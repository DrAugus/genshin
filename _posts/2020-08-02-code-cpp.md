---
layout: post
title:  "一些程序题"
date:   2020-08-02 15:00:03
categories: 编程
tags: C++
excerpt: cpp code
---

# Lambda重载

仅在c++17及以上支持 [refer](https://stackoverflow.com/questions/58700542/overload-a-lambda-function)

```c++
#include <type_traits> // std::is_same_v

constexpr auto translate = [](auto idx)
{
    if constexpr (std::is_same_v<decltype(idx), int>)
    {
        constexpr static int table[8]{ 7,6,5,4,3,2,1,0 };
        return table[idx];
    }
    else if constexpr (std::is_same_v<decltype(idx), char>)
    {
        std::map<char, int> table{ {'a', 0}, {'b', 1}, {'c', 2}, {'d', 3}, {'e', 4}, {'f', 5}, {'g', 6}, {'h', 7} };
        return table[idx];
    }
};
```

## 一些程序题

1.

```c++
  int a = 4;

  int &f(int x) {
    a = a + x;
    return a;
  }
  
  int main() {
    int t = 5;
    cout << f(t) << endl; //a = 9
    f(t) = 20; //a = 20
    cout << f(t) << endl; //a = 25
    t = f(t); //a = 30 t = 30
    cout << f(t) << endl; // a = 60
  }
```

2.求下面函数的返回值

```c++
int func(int x) {
  int countx = 0;
  while (x) {
    countx++;
    x = x & (x - 1);
  }
  return countx;
}
```

假定x = 9999。 答案：8

思路：将x转化为2进制，看含有的1的个数。

3.

```c++
int main()
{
    int i = 1;
    printf("%d,%d\n", ++i, ++i);    
    printf("%d,%d\n", ++i, i++);   
    printf("%d,%d\n", i++, i++);    
    printf("%d,%d\n", i++, ++i);   
    system("pause");
    return 0;
}
```
 3 3 5 3 6 5 8 9 